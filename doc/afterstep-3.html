<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>AfterStep 1.8 FAQ: Getting and Installing AfterStep 1.8</TITLE>
 <LINK HREF="afterstep-4.html" REL=next>
 <LINK HREF="afterstep-2.html" REL=previous>
 <LINK HREF="afterstep.html#toc3" REL=contents>
</HEAD>
<BODY>
<A HREF="afterstep-4.html">Next</A>
<A HREF="afterstep-2.html">Previous</A>
<A HREF="afterstep.html#toc3">Contents</A>
<HR>
<H2><A NAME="s3">3. Getting and Installing AfterStep 1.8</A></H2>

<P>
<P>
<P>
<H2><A NAME="ss3.1">3.1 Where can I get AfterStep 1.8?</A>
</H2>

<P>You can download AfterStep 1.8 at any of the following locations:
<UL>
<LI>
<A HREF="http://www.afterstep.org/Download.shtml">http://www.afterstep.org/Download.shtml</A></LI>
<LI>
<A HREF="ftp://ftp.digex.net/pub/X11/window-managers/afterstep/stable/">ftp://ftp.digex.net/pub/X11/window-managers/afterstep/stable/</A></LI>
<LI>
<A HREF="ftp://ftp-jcsu.jesus.cam.ac.uk/pub/afterstep/stable/">ftp://ftp-jcsu.jesus.cam.ac.uk/pub/afterstep/stable/</A></LI>
<LI>
<A HREF="ftp://ftp.linux.co.za/pub/windowmanagers/afterstep/stable/">ftp://ftp.linux.co.za/pub/windowmanagers/afterstep/stable/</A></LI>
</UL>
<P>A more complete list of AfterStep download locations and mirrors is available at 
<A HREF="http://www.afterstep.org/Mirrors.shtml">http://www.afterstep.org/Mirrors.shtml</A>.
<P>
<H2><A NAME="ss3.2">3.2 What do I need to compile and install AfterStep?</A>
</H2>

<P>Because AfterStep is an X application, you need to have X installed, and the X development
libraries (note, in this case "development" means libraries need to compile things with X,
not development level code).  You'll also need a C compiler, and image libraries.
<UL>
<LI>
<A HREF="ftp://metalab.unc.edu/pub/Linux/libs/X/!INDEX.html">libXpm</A></LI>
<LI>
<A HREF="http://www.cdrom.com/pub/png/pngcode.html">libpng</A></LI>
<LI>
<A HREF="ftp://ftp.uu.net/graphics/jpeg/">jpeg libraries</A></LI>
</UL>
<P>It is suggested you have at least the xpm libraries, if not all image types.  Because 
AfterStep comes with all of its images in xpm format, if you do not compile with libXpm,
many of the default looks will appear broken or lacking in images.  Save yourself the 
trouble of converting images, install libXpm.
<P>
<H2><A NAME="ss3.3">3.3 Can I install AfterStep without being root?</A>
</H2>

<P>Yes, before compiling AfterStep, do this:
<OL>
<LI>mkdir ~/bin</LI>
<LI>mkdir -p ~/man/man1</LI>
<LI>./configure --prefix ~/</LI>
</OL>

Then follow the normal install directions, allowing you to <CODE>make install</CODE> without being
root.
<P>
<H2><A NAME="ss3.4">3.4 How do I upgrade AfterStep?</A>
</H2>

<P>The trick here is your ~/GNUstep/Library/AfterStep/ directory.  Move it somewhere 
else (~/GNUstep.backup for example).  Now start AfterStep, it will create a new
~/GNUstep/Library/AfterStep/ directory, and the correct directories under that.  You
can now move your old config back in.  <EM>Note</EM>: This does not mean simply copying 
over the new ~/GNUstep/Library/AfterStep/ directory with the backed up one.  
Just make sure you don't copy over the new non-configurable directory.  This directory
is not to be moved, edited, linked to /dev/null, or anything of the sort!
<P>
<H2><A NAME="ss3.5">3.5 What's up with all these compile errors?</A>
</H2>

<P>Most likely, you don't have all the libraries AfterStep is looking for, such as libXpm,
libpng, or jpeg libraries.  Make sure you have the X devel package (should have come with
your operating system, if not, check 
<A HREF="http://www.xfree86.org">http://www.xfree86.org</A>), and any image
libraries you want.  
<P>
<H2><A NAME="ss3.6">3.6 What's up with this error about sgmltools?</A>
</H2>

<P>This FAQ is maintained in SGML, according to the Linuxdoc DTD; a version of the FAQ is 
included with every distribution of AfterStep.  In order to make the SGML readable, a 
program called sgml2html (part of 
<A HREF="http://www.sgmltools.org">sgmltools</A>)
converts it to HTML.  Because many people don't have sgmltools, and don't want to bother
installing them, and because AfterStep looks for sgmltools when creating the Makefiles,
there are bound to be minor errors.
<P>As a result, the HTML version is also shipped with the distribution.  The SGML is still
incuded with AfterStep, so that users can make the FAQ in text, dvi, and PostScript 
formats, just use the sgmltools package to translate the SGML into whatever you please.
<P>
<H2><A NAME="ss3.7">3.7 What if I don't want to compile AfterStep, can I get a binary package, like rpm?</A>
</H2>

<P>Yes.  
<A HREF="http://www.afterstep.org/Download.shtml">http://www.afterstep.org/Download.shtml</A> has a wide variety of binary
packages available for download, including rpm, deb, and packages for other varients
of Linux and Unix.  
<P>Please keep in mind that many of these packages install AfterStep into /usr/ instead
of /usr/local/, where compiling would install it.  If you choose to install a package,
please locate your global AfterStep directory if you plan to configure AfterStep.
<P>
<H2><A NAME="ss3.8">3.8 How do I install AfterStep on SGI or SCO?</A>
</H2>

<P>The problem with compiling on these systems was tracked down and reported by Benjamin J.
Tracy (<CODE>tracy@wsicorp.com</CODE>) and John Koch (<CODE>JKOCH1@Tandy.com</CODE>).  The ordering of the
libraries in the link command is wrong.  Just make sure that the AfterStep library appears
<EM>before</EM> the -lX11 argument on the link command line in the Makefile.  
<P>
<H2><A NAME="ss3.9">3.9 How do I install AfterStep on MacOS X?</A>
</H2>

<P>It's apparently a pain.  The following was sent by Sarwat Khan 
(<CODE>sarwat@interlog.com</CODE>) to the mailing list:
<P>
<BLOCKQUOTE><CODE>
<PRE>
 
As a side note, installing AS on MOSXS was a royal pain in
the butt (I really had nothing better to do, and I was wondering what it
would take to get it done). It's not AS's fault. I guess the biggest proble
m
I had was because MOSXS uses Frameworks for a lot of stuff, not your
standard .o or .a libraries. So I didn't have to use -ljpeg, I had to use
-framework OmniJPEG. Also, maX doesn't put the X11 stuff in the usual
places, it puts them in /Local/Library/Xnext/XR6.4/[usr,bin,X11,whatever].
I
was able to get around that ok using configure, but then instead of using
-lX11, I had to use "-F/L/L/Xnext/blah -framework X11", since he's made a
bunch of libraries frameworks instead (which is ok, but getting AS's stuff
to work with it was a pain in the ass). Also, he didn't include the X11
headers (?!), so I had to collect them from several places (what I
downloaded from ftp.x.org was incomplete) and merge them in order to get all
the headers.

A few sources included 'malloc.h'. That's not kept in /usr/include (or
wherever), it's in /System/Library/Frameworks/System.framework/bsd/src/).
Yay. Usually you use ProjectBuilder to build tools and it handles the dumb
details for you.
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>
<H2><A NAME="ss3.10">3.10 How do I install AfterStep on a system with CDE?</A>
</H2>

<P>The following are instructions provided by Matthew R. Hamilton
(<CODE>panic@primary.net</CODE>):
<P>
<BLOCKQUOTE><CODE>
<PRE>
The system wide default files for CDE configuration are located in
/usr/dt/config and Sun recommends that if any personal customizations are to
be done that they be placed under the /etc/dt/config directory (which does
not exist by default).  The first an most important file in adding new
desktops to the system is located in
/usr/dt/config/&lt;LANGUAGE>/Xresources.d/.  It is here that you will see a
file called Xresources.ow (this is the entry for OpenWindows).  It must
start with Xresources and can have any meaningful extension.  For myself I
called the AfterStep file Xresources.step.  There are four key resources
used by dtlogin that go in this file.  They are as follows:
Dtlogin*altDtName    ----->    This is the name of the new desktop
Dtlogin*altDtKey       ----->  This is what window manager to run
Dtlogin*altDtStart      -----> This is the configuration script
Dtlogin*altDtLogo     ----->   This is the logo that appears in the dtlogin
                               window and is a 237x237 XPM file located in
                               /usr/dt/appconfig/icons/C/ (If that is not 
                               correct just do a find on the logo in the 
                               .ow file in the /usr/dt directory.  
                               NOTE: These files have an extension of .pm 
                               not.xpm, don't ask me why but that is the 
                               way Sun does it.


Now the configuration file indicated in the Xresources.step file is located
in /usr/dt/config.  I stuck to Sun's naming convention and called mine
Xsession.step.  You can just copy the Xsession.ow to Xsession.step and
customize it.  There are three areas that I modified.  The first was the
environment variable SDT_ALT_SESSION and had it point to
/usr/dt/config/Xsession.step2.  You can also customize the hello message via
either the DTDSPMSG or SDT_ALT_HELLO environment variables.  The
Xsession.step2 file is next called and is where the .Xinitrc file is run
from.  You can just copy the Xsession.ow2 file to Xsession.step2 and modify
it to just run the .xinitrc file from the user's home directory or run a
system wide .xinitrc file.  On Solaris 2.5 the default .Xinitrc file is
located in /usr/openwin/lib/Xinitrc while on Solars 2.6 it is in
/usr/dt/config/Xinitrc.

There are two other things you can modify in CDE.  There is a directory
/usr/dt/config/images.  In that directory there are about 5 Sun raster
images.  The one that is of interest here is Solaris.im8.  This is the image
that displays the Welcome to Solaris in different languages.  It is a
549x515 image and if you place any raster image of similar proportions in
its place, it will be displayed instead of the one with the multi lingual
welcome message.  I would of course recommend keeping a backup of the
original and just making symlinks to the images you want.  Finally the file
/usr/dt/config/&lt;LANG>/Xresources contains some basic resources for the
dtlogin window.  You can change the messages displayed.  I will leave that
up to you as an exercise to figure out what the strings are and to have fun
customizing your CDE desktops.
</PRE>
</CODE></BLOCKQUOTE>
<P>
<HR>
<A HREF="afterstep-4.html">Next</A>
<A HREF="afterstep-2.html">Previous</A>
<A HREF="afterstep.html#toc3">Contents</A>
</BODY>
</HTML>
